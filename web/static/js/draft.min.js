function import$(n,e){var t={}.hasOwnProperty;for(var r in e)t.call(e,r)&&(n[r]=e[r]);return n}!function(){var n;n=function(n){var e,t,r,o,i,u,l,a,d,f;return e={},t=new ldCover({root:".ldcv"}),r=new ldLoader({root:".ldcv .ld-over-full-inverse"}),o=function(n){var e,t,r;return e=import$({empty:!0,multiple:!1},n),t=e.empty,r=e.multiple,["list","add"].map(function(n){return f.get(n).classList.toggle("d-none",t)}),["upload"].map(function(n){return f.get(n).classList.toggle("d-none",!t)}),["single"].map(function(n){return f.get(n).classList.toggle("d-none",r)}),["multiple"].map(function(n){return f.get(n).classList.toggle("d-none",!r)})},i=function(n){return e.images=(n||[]).filter(function(n){return n&&!(n instanceof ldError)}),u.render()},u=new ldView({root:"[ld-scope=gallery]",handler:{image:{list:function(){return e.images},handle:function(n){var e,t;return e=n.node,t=n.data,new ldView({root:e,handler:{thumb:function(n){var e;return e=n.node,e.style.backgroundImage="url("+t.url+")"},name:function(n){var e;return e=n.node,e.textContent=t.id,e.setAttribute("href",t.url)}}})}}}}),l={dummy:function(n){return n.fd,{url:"https://i.ibb.co/frf90x6/only-support.png",id:"VMRxBqn"}},native:function(n){var e;return e=n.fd,ld$.fetch("/d/uploadr",{method:"POST",body:e},{type:"json"}).then(function(n){return console.log(n)})},imgbb:function(n){var e;return e=n.fd,ld$.fetch("https://api.imgbb.com/1/upload?key=",{method:"POST",body:e},{type:"json"}).then(function(n){return n&&n.data&&200===n.status?{url:n.data.display_url,id:n.data.id,raw:n.data}:Promise.reject(n)}).catch(function(n){return new ldError(n)})}},a=function(n){var e;return r.on(),e=new FormData,n.map(function(n){return e.append("file",n.file)}),l.native({fd:e}).finally(function(){return r.off()})},d=new ldView({root:document,handler:{files:{list:function(){return e.files||[]},handle:function(n){var t,r;return t=n.node,r=n.data,ld$.find(t,".btn",0).addEventListener("click",function(){var n;if(t.parentNode.removeChild(t),(n=e.files.indexOf(r))>=0&&e.files.splice(n,1),0===e.files.length)return o({empty:!0,multiple:!1})}),new ldView({root:t,handler:{name:function(n){var e;return e=n.node,e.textContent=r.file.name},size:function(n){var e;return e=n.node,e.textContent=Math.round(r.file.size/1024)+"KB"},thumb:function(n){var e;return e=n.node,e.style.backgroundImage="url("+r.result+")"}}})}}}}),f=new ldView({root:document,handler:{drop:function(n){var e;return(e=n.node).addEventListener("drop",function(n){return n.preventDefault(),Array.from(n.dataTransfer.files).map(function(n){return console.log(n)})}),e.addEventListener("dragover",function(n){return n.preventDefault()})},input:function(n){var t,r;return t=n.node,e.ldf=r=new ldFile({root:t,type:"dataurl",forceEncoding:"utf-8"}),r.on("load",function(n){var t,r;return t=f.get("preview"),r=n.map(function(e){return new Promise(function(r,o){var i;return i=new Image,i.onload=function(){var o,u;return o=t.style,o.backgroundImage="url("+n[0].result+")",o.width=i.width+"px",o.height=i.height+"px",r(import$((u={},u.width=i.width,u.height=i.height,u),e))},i.src=e.result})}),Promise.all(r).then(function(){return e.files=n,o({empty:!e.files.length,multiple:e.files.length>1}),d.render()})})},cancel:function(n){return n.node.addEventListener("click",function(){if(e.files)return e.files=null,o({empty:!0,multiple:!1});t.toggle()})},add:function(n){return n.node.addEventListener("click",function(){return a(e.files).then(function(n){return t.set(n)})})},upload:function(){},preview:function(){},toggle:function(n){return n.node.addEventListener("click",function(){return t.get().then(function(n){return i(n)}).catch(function(){})})}}})},n.prototype=Object.create(Object.prototype),window.uploadr=n,n()}();