//- module
mixin uploadr(name)
  - if(!name) name = "uploadr";
  +scope(name).uploadr
    .uploadr-dropzone(ld="drop")
      .uploadr-hint: div Drag & drop #[br] file(s) here
      .uploadr-viewer
        .uploadr-item(ld-each="file")
          img(ld="thumb")
          .img(ld="thumb")
          .uploadr-item-ctrl
            div(ld="progress")
            .inner
              div(ld="size")
              div(ld="delete") &times;
      .uploadr-loader: .ldld.default(ld="loader")
    .uploadr-ctrl
      .flex-grow-1.mr-2: .btn.btn-primary.btn-upload Add File ... #[input(type="file",ld="input",multiple)]
      div
        .btn.btn-primary.ml-2(ld="upload") Upload
        .btn.btn-primary.ml-2(ld="clear") Clear


mixin uploadr-viewer(name)
  .uploadr-viewer(ld="list")
    .uploadr-item(ld-each="item")
      img(ld="thumb")
      .img(ld="thumb")

mixin uploadr-list(name)
  .mt-2
    .bg-white.p-0.m-0(ld-each="file")
      .d-flex.align-items-center.text-muted
        .bg-portrait.bg-secondary.mr-2(ld="thumb",style="flex:0 0 auto;width:1.8125rem;height:1.8125rem;background-size:contain")
        .flex-grow-1.mx-1.text-truncate(ld="name") ...
        .mx-2.text-nowrap(ld="size") 0KB
        .btn.btn-link.btn-sm.text-nowrap.text-lg.text-danger(ld="delete") &times;
      .mt-1.bg-primary(ld="progress",style="width:0;height:3px;transition:all .35s ease-in-out")
