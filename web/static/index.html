<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldui/ldui.min.css"></head><body><div class="w-1024 rwd typeset heading-contrast mx-auto p-4"><h2>uploadr</h2><p>file uploader widgets and express route</p><div class="ldld text-center"><img src="/assets/img/spinner.svg"></div><div ld-scope="uploadr"><div class="w-480 mx-auto"><div class="bg-light w-100 text-white" ld="drop"><div class="vertical-center"><div class="w-100 text-center text-secondary p-4"><div class="text-lg">drag & drop <br> files here</div><div class="my-4">or</div><div class="btn btn-primary btn-upload"><span>Choose File</span><input ld="input" type="file" multiple></div></div></div></div></div><div class="w-480 mx-auto my-4"><div class="bg-white p-1 m-2" ld-each="file"><div class="d-flex align-items-center"><div class="bg-portrait bg-secondary" ld="thumb" style="width:1.8125rem;height:1.8125rem;background-size:contain"></div><div class="flex-grow-1 mx-1" ld="name">...</div><div class="mx-2" ld="size">0KB</div><div class="btn btn-outline-danger btn-sm" ld="delete">remove &times;</div></div><div class="mt-1 bg-primary" ld="progress" style="width:0;height:3px;transition:all .35s ease-in-out"></div></div></div><div class="w-480 mx-auto my-4"><div class="btn btn-primary mr-2" ld="upload">Upload</div><div class="btn btn-primary mr-2" ld="clear">Clear</div></div></div></div><div ld-scope="image-viewer"><div class="w-1024 mx-auto my-4"><div class="d-flex flex-wrap" ld="list"><div class="flex-grow-1 mr-1 mb-1 bg-light text-center position-relative border" ld-each="item"><img style="max-height:200px;opacity:0"><div class="w-100 h-100 position-absolute" style="top:0;left:0;background-position:center center;background-repeat:no-repeat;background-size:cover"></div></div><div Style="flex:10 0 auto"></div></div></div></div><div class="w-1024 rwd mx-auto my-4"><div class="d-flex flex-wrap" ld-scope="viewer"><div ld-each="photo" style="width:300px;height:200px;background-size:cover;background-position:center center;background-repeat:no-repeat"></div></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap.native/2.0.27/bootstrap-native-v4.min.js"></script><script type="text/javascript" src="assets/lib/ldui/ldui.min.js"></script><script type="text/javascript" src="assets/lib/uploadr/uploadr.js"></script><script type="text/javascript" src="assets/lib/uploadr/viewer.js"></script><script>// Generated by LiveScript 1.3.1
var lc, uploaderNative, uploaderImgbb, up, ldld, view, count, viewer;
lc = {
  files: []
};
uploaderNative = {
  host: 'native',
  route: '/d/uploadr'
};
uploaderImgbb = {
  host: 'imgbb'
};
up = new uploadr({
  root: ld$.find(document, '[ld-scope=uploadr]', 0),
  progress: function(it){
    return console.log(it);
  },
  uploader: uploaderNative
});
up.on('upload.done', function(it){
  lc.files = lc.files.concat(it);
  return view.render();
});
ldld = new ldLoader({
  root: '.ldld'
});
up.on('preview.loading', function(){
  return ldld.on();
});
up.on('preview.done', function(){
  return ldld.off();
});
view = new ldView({
  root: ld$.find('[ld-scope=viewer]', 0),
  handler: {
    photo: {
      list: function(){
        return lc.files || [];
      },
      handle: function(arg$){
        var node, data;
        node = arg$.node, data = arg$.data;
        return node.style.backgroundImage = "url(" + data.url + ")";
      }
    }
  }
});
count = 0;
viewer = new uploadr.viewer({
  root: '[ld-scope=image-viewer]',
  page: {
    host: window,
    fetchOnScroll: true,
    limit: 9,
    boundary: 100,
    fetch: function(){
      return new Promise(function(res, rej){
        return res([1, 2, 3, 4, 5, 6, 7, 8, 9].map(function(it){
          count = count + 1;
          return {
            data: "/assets/img/sample/" + it + ".jpg",
            value: count
          };
        }));
      });
    }
  }
});
viewer.page.fetch();</script></body></html>