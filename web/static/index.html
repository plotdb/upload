<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/ldui/ldui.min.css"><link rel="stylesheet" type="text/css" href="assets/lib/uploadr/uploadr.min.css"></head><body><div class="w-1024 rwd typeset heading-contrast mx-auto p-4"><h2>uploadr</h2><p>file uploader widgets and express route</p><div class="card w-480 mx-auto rwd shadow"><div class="card-body position-relative" ld-scope="uploadr"><div class="w-100"><div class="aspect-ratio ratio-3by2 text-center" style="overflow-y:scroll"><div class="position-absolute w-100 h-100" style="top:0;left:0"><div class="vertical-center"><div class="w-100 text-lg text-light">drag & drop <br> files here</div></div></div><div class="uploadr-viewer"><div class="item" ld-each="file"><img ld="thumb"><div class="img" ld="thumb"></div><div class="bg-primary" ld="progress" style="position:absolute;bottom:0;left:0;width:0;height:3px;"></div><div style="position:absolute;top:.5em;left:.5em;background:rgba(0,0,0,.25);color:#fff;border-radius:50%;padding:.125em;width:1.25em;height:1.25em;line-height:.75em;font-size:1.25em;cursor:pointer;" ld="delete">&times;</div></div><div class="placeholder"></div><div class="placeholder"></div><div class="placeholder"></div></div></div></div><hr><div class="d-flex justify-content-between"><div class="btn btn-primary mr-2 btn-upload">Add File ... <input type="file" ld="input" multiple></div><div class="text-right"><div class="btn btn-primary ml-2" ld="upload">Upload</div><div class="btn btn-primary ml-2" ld="clear">Clear</div></div></div></div></div><div class="ldld text-center"><img src="/assets/img/spinner.svg"></div><div class="card w-768 mx-auto rwd shadow"><div class="card-body" ld-scope="image-viewer"><div class="uploadr-viewer" ld="list"><div class="item" ld-each="item"><img><div class="img"></div></div><div class="placeholder"></div><div class="placeholder"></div><div class="placeholder"></div></div></div></div></div><div class="w-1024 rwd mx-auto my-4"><div class="d-flex flex-wrap" ld-scope="viewer"><div ld-each="photo" style="width:300px;height:200px;background-size:cover;background-position:center center;background-repeat:no-repeat"></div></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap.native/2.0.27/bootstrap-native-v4.min.js"></script><script type="text/javascript" src="assets/lib/ldui/ldui.min.js"></script><script type="text/javascript" src="assets/lib/uploadr/uploadr.js"></script><script type="text/javascript" src="assets/lib/uploadr/viewer.js"></script><script>// Generated by LiveScript 1.3.1
(function(){
  var lc, uploaderNative, up, ldld, view, count, viewer;
  lc = {
    files: []
  };
  uploaderNative = {
    host: 'native',
    route: '/d/uploadr'
  };
  up = new uploadr({
    root: '[ld-scope=uploadr]',
    progress: function(it){
      return console.log(it);
    },
    uploader: uploaderNative
  });
  up.on('upload.done', function(it){
    lc.files = lc.files.concat(it);
    return view.render();
  });
  ldld = new ldLoader({
    root: '.ldld'
  });
  up.on('preview.loading', function(){
    return ldld.on();
  });
  up.on('preview.done', function(){
    return ldld.off();
  });
  view = new ldView({
    root: '[ld-scope=viewer]',
    handler: {
      photo: {
        list: function(){
          return lc.files || [];
        },
        handle: function(arg$){
          var node, data;
          node = arg$.node, data = arg$.data;
          return node.style.backgroundImage = "url(" + data.url + ")";
        }
      }
    }
  });
  count = 0;
  viewer = new uploadr.viewer({
    root: '[ld-scope=image-viewer]',
    page: {
      host: window,
      fetchOnScroll: true,
      limit: 9,
      boundary: 100,
      fetch: function(){
        return new Promise(function(res, rej){
          return res([1, 2, 3, 4, 5, 6, 7, 8, 9].map(function(it){
            return {
              url: "/assets/img/sample/" + it + ".jpg"
            };
          }));
        });
      }
    }
  });
  return viewer.page.fetch();
})();</script></body></html>