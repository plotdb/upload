(function(){uploadr.ext.imgbb=function(e){var t,n,a;return t=e.files,n=e.progress,a=e.opt,new Promise(function(e,r){var l,i,u;return l=[],i=t.length,n({percent:0,val:0,len:i}),(u=function(t){var r,o;return(r=t.splice(0,1)[0])?((o=new FormData).append("image",r.file),ld$.xhr("https://api.imgbb.com/1/upload?key="+a.key,{method:"POST",body:o},{type:"json"}).then(function(e){var a;return e&&e.data&&200===e.status?(l.push(a={url:e.data.display_url,name:r.file.name,id:e.data.id,raw:e.data}),n({percent:(i-t.length)/i,val:i-t.length,len:i,item:a}),u(t)):Promise.reject(e)}).catch(function(e){var a;return l.push(a={name:r.file.name,err:e}),n({percent:(i-t.length)/i,val:i-t.length,len:i,item:a})})):e(l)})(t)})}}).call(this);
